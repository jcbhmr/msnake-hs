!function(){return function e(t,s,o){function i(l,r){if(!s[l]){if(!t[l]){var a="function"==typeof require&&require;if(!r&&a)return a(l,!0);if(n)return n(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var d=s[l]={exports:{}};t[l][0].call(d.exports,function(e){return i(t[l][1][e]||e)},d,d.exports,e,t,s,o)}return s[l].exports}for(var n="function"==typeof require&&require,l=0;l<o.length;l++)i(o[l]);return i}}()({1:[function(e,t,s){"use strict";function o(e){for(var t in e)s.hasOwnProperty(t)||(s[t]=e[t])}Object.defineProperty(s,"__esModule",{value:!0}),o(e("./p5")),o(e("./socket"))},{"./p5":2,"./socket":4}],2:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("../../shared/index"),i=e("../classes/index"),n=e("./socket"),l=$("#canvas-holder");function r(){if(null!==l){const e=l.innerWidth(),t=l.innerHeight();return min(e,t)}return 100}s.setup=function(){const e=r();createCanvas(e,e).parent("#canvas-holder"),background(o.Configuration.background)},s.windowResized=function(){const e=r();resizeCanvas(e,e),background(o.Configuration.background)},s.draw=function(){background(o.Configuration.background);for(const e of i.Food.map.values())e.show();for(const e of i.Snake.map.values())e.show()},s.keyPressed=function(){const e={w:o.Communication.Direction.UP,a:o.Communication.Direction.LEFT,d:o.Communication.Direction.RIGHT,s:o.Communication.Direction.DOWN,ArrowUp:o.Communication.Direction.UP,ArrowDown:o.Communication.Direction.DOWN,ArrowLeft:o.Communication.Direction.LEFT,ArrowRight:o.Communication.Direction.RIGHT}[key],t=i.Snake.map.get(n.socket.id);void 0!==t&&t.look(e)}},{"../../shared/index":14,"../classes/index":6,"./socket":4}],3:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("../classes/index"),i=e("./socket");class n{constructor(e){this.element=$(e),this.element==={}&&console.error("no element with id:",e),this.value=this.element.text()}update(e){return"number"==typeof e&&(e=floor(10*e)/10),e=e.toString(),this.value!==e&&(this.value=e,this.set(e),!0)}set(e){this.element.text(e)}get(){return this.value}}class l{constructor(e){this.score=new n(e);const t=e+"-color-indicator";this.element=$(t),this.element==={}&&console.error("no element with id:",e),this.value=this.element.text()}update(e,t){return"number"==typeof e&&(e=floor(10*e)/10),e=e.toString(),this.updateColor(t),!!this.score.update(e)}updateColor(e){return this.value!==e&&(this.value=e,this.set(e),!0)}set(e){this.element.attr("style",`color: rgb(${e.red},${e.green},${e.blue});`)}get(){return{color:this.value,score:this.score.get()}}}const r={life:{length:new n("#self-life-length"),kills:new n("#self-life-kills")},session:{length:new n("#self-record-length"),kills:new n("#self-record-kills"),ratios:{kd:new n("#self-ratio-kd"),ld:new n("#self-ratio-ld")},totals:{length:new n("#self-total-length"),kills:new n("#self-total-kills"),deaths:new n("#self-total-deaths")}}},a={life:{length:new l("#session-life-length"),kills:new l("#session-life-kills")},session:{length:new l("#session-record-length"),kills:new l("#session-record-kills"),ratios:{kd:new l("#session-ratio-kd"),ld:new l("#session-ratio-ld")},totals:{length:new l("#session-total-length"),kills:new l("#session-total-kills"),deaths:new l("#session-total-deaths")}}};s.colors={red:new n("#self-color-red"),green:new n("#self-color-green"),blue:new n("#self-color-blue"),indicator:$("#self-color-indicator")};const c={best:{kills:new n("#globals-best-kills"),length:new n("#globals-best-length"),ratios:{kd:new n("#globals-best-kd"),ld:new n("#globals-best-ld")},totals:{deaths:new n("#globals-best-total-deaths"),kills:new n("#globals-best-total-kills"),length:new n("#globals-best-total-length")}},total:{deaths:new n("#globals-total-deaths"),kills:new n("#globals-total-kills"),length:new n("#globals-total-length"),ratios:{kd:new n("#globals-total-kd"),ld:new n("#globals-total-ld")}}};s.update=function(e){const t=o.Snake.map.get(i.socket.id);if(void 0!==t){const e=t.scores();r.life.length.update(e.life.length),r.life.kills.update(e.life.kills),r.session.length.update(e.session.length),r.session.kills.update(e.session.kills),r.session.totals.length.update(e.session.totals.length),r.session.totals.kills.update(e.session.totals.kills),r.session.totals.deaths.update(e.session.totals.deaths),r.session.ratios.kd.update(e.session.ratios.kd),r.session.ratios.ld.update(e.session.ratios.ld);const o=t.color();(s.colors.red.update(o.red)||s.colors.green.update(o.green)||s.colors.blue.update(o.blue))&&s.colors.indicator.attr("style",`color: rgb(${o.red},${o.green},${o.blue});`)}const n=o.Snake.map.values();{const e=n.reduce((e,t)=>t.scores().life.length>e.scores().life.length?t:e);a.life.length.update(e.scores().life.length,e.color())}{const e=n.reduce((e,t)=>t.scores().life.kills>e.scores().life.kills?t:e);a.life.kills.update(e.scores().life.kills,e.color())}{const e=n.reduce((e,t)=>t.scores().session.length>e.scores().session.length?t:e);a.session.length.update(e.scores().session.length,e.color())}{const e=n.reduce((e,t)=>t.scores().session.kills>e.scores().session.kills?t:e);a.session.kills.update(e.scores().session.kills,e.color())}{const e=n.reduce((e,t)=>t.scores().session.totals.length>e.scores().session.totals.length?t:e);a.session.totals.length.update(e.scores().session.totals.length,e.color())}{const e=n.reduce((e,t)=>t.scores().session.totals.kills>e.scores().session.totals.kills?t:e);a.session.totals.kills.update(e.scores().session.totals.kills,e.color())}{const e=n.reduce((e,t)=>t.scores().session.totals.deaths>e.scores().session.totals.deaths?t:e);a.session.totals.deaths.update(e.scores().session.totals.deaths,e.color())}{const e=n.reduce((e,t)=>t.scores().session.ratios.kd>e.scores().session.ratios.kd?t:e);a.session.ratios.kd.update(e.scores().session.ratios.kd,e.color())}{const e=n.reduce((e,t)=>t.scores().session.ratios.ld>e.scores().session.ratios.ld?t:e);a.session.ratios.ld.update(e.scores().session.ratios.ld,e.color())}c.best.kills.update(e.best.kills),c.best.length.update(e.best.length),c.best.totals.kills.update(e.best.totals.kills),c.best.totals.length.update(e.best.totals.length),c.best.totals.deaths.update(e.best.totals.deaths),c.best.ratios.kd.update(e.best.ratios.kd),c.best.ratios.ld.update(e.best.ratios.kd),c.total.kills.update(e.total.kills),c.total.length.update(e.total.length),c.total.deaths.update(e.total.deaths),c.total.ratios.kd.update(e.total.ratios.kd),c.total.ratios.ld.update(e.total.ratios.ld)}},{"../classes/index":6,"./socket":4}],4:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("../classes/index"),i=e("./scoreboard");s.socket=io(location.pathname),s.socket.on("tick",e=>{for(const[t,s]of Object.entries(e.snakes)){const e=o.Snake.map.get(t);void 0===e?o.Snake.map.set(t,new o.Snake(s)):e.apply(s)}for(const t of o.Snake.map.keys())void 0===e.snakes[t]&&o.Snake.map.delete(t);for(const[t,s]of Object.entries(e.foods)){const e=o.Food.map.get(t);void 0===e?o.Food.map.set(t,new o.Food(s)):e.apply(s)}for(const t of o.Food.map.keys())void 0===e.foods[t]&&o.Food.map.delete(t);i.update(e.records)})},{"../classes/index":6,"./scoreboard":3}],5:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("../../shared/index");class i{constructor(e){this.position=o.Random.point(),this.apply(e)}apply(e){this.position=e.position}show(){const e=width/o.Configuration.size;ellipseMode(CORNER),noStroke(),fill(255,0,0),ellipse(this.position.x*e-.25*e,this.position.y*e-.25*e,1.5*e)}}i.map=new o.Map,s.Food=i},{"../../shared/index":14}],6:[function(e,t,s){"use strict";function o(e){for(var t in e)s.hasOwnProperty(t)||(s[t]=e[t])}Object.defineProperty(s,"__esModule",{value:!0}),o(e("./food")),o(e("./snake"))},{"./food":5,"./snake":7}],7:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("../../shared/index"),i=e("../app/socket");class n{constructor(e){this._color={red:0,green:0,blue:0},this.links=[],this.growing=0,this.direction={current:o.Random.direction(),next:o.Random.direction()},this.statistics=o.Communication.Statistics.initial(),this.apply(e)}apply(e){this._color=e.color,this.links=e.links,this.growing=e.growing,this.direction.current=e.direction,this.statistics=e.statistics}look(e){if(void 0!==e){const t=[[o.Communication.Direction.UP,o.Communication.Direction.DOWN],[o.Communication.Direction.LEFT,o.Communication.Direction.RIGHT]];for(const s of t)if(s.includes(e)&&!s.includes(this.direction.current)){this.direction.next=e,i.socket.emit("direction",e);break}}}scores(){return this.statistics}color(){return this._color}show(){if(this.links.length>0){const e=width/o.Configuration.size;ellipseMode(CORNER),noStroke(),fill(this._color.red,this._color.green,this._color.blue),ellipse(this.links[0].x*e-.25*e,this.links[0].y*e-.25*e,1.5*e);for(let t=0;t<this.links.length-1;++t)strokeWeight(e),stroke(this._color.red,this._color.green,this._color.blue),line(this.links[t].x*e+e/2,this.links[t].y*e+e/2,this.links[t+1].x*e+e/2,this.links[t+1].y*e+e/2)}}}n.map=new o.Map,s.Snake=n},{"../../shared/index":14,"../app/socket":4}],8:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("./app/index");Object.assign(window,o)},{"./app/index":1}],9:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0})},{}],10:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(s.Direction||(s.Direction={}))},{}],11:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("./classes/index");s.Classes=o;const i=e("./common");s.Direction=i.Direction;const n=e("./statistics");s.Statistics=n},{"./classes/index":9,"./common":10,"./statistics":12}],12:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.initial=function(){return{life:{kills:0,length:0},session:{totals:{kills:0,length:0,deaths:0},kills:0,length:0,ratios:{kd:0,ld:0}}}}},{}],13:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.size=75,s.interval=50,s.background=60,s.growth=6,s.initial=12,s.foodOffset=6,s.leach=2},{}],14:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("./configuration");s.Configuration=o;const i=e("./communication/index");s.Communication=i;const n=e("./random");s.Random=n;const l=e("./map");s.Map=l.Map},{"./communication/index":11,"./configuration":13,"./map":15,"./random":16}],15:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.Map=class{constructor(){this.map={}}values(){return Object.values(this.map)}pairs(){return Object.entries(this.map)}keys(){return Object.keys(this.map)}set(e,t){this.map[e]=t}get(e){return this.map[e]}object(){return this.map}delete(e){delete this.map[e]}}},{}],16:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("./communication/index"),i=e("./configuration");function n(e,t){return Math.round(Math.random()*(t-e)+e)}s.integer=n,s.color=function(){return{red:n(0,255),green:n(0,255),blue:n(0,255)}},s.point=function(){return{x:n(0,i.size),y:n(0,i.size)}},s.direction=function(){return[o.Direction.UP,o.Direction.DOWN,o.Direction.LEFT,o.Direction.RIGHT][n(0,3)]},s.id=function(){return Date.now().toString()+Math.round(1e3*Math.random()).toString()}},{"./communication/index":11,"./configuration":13}]},{},[8]);